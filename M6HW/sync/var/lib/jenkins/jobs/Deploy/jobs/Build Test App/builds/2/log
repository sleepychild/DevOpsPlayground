Started by an SCM change
Running as SYSTEM
Building remotely on [8mha:////4MyCSz62rCYUJJ6n3DIvJraLDC4yccoQ2qnCvm9ORS2oAAAAmx+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAy2EgYB/eT83ILSktQi/TygO3WNAAHkn4LFAAAA[0mnode-2 in workspace /home/vagrant/workspace/Deploy/Build Test App
The recommended git tool is: NONE
No credentials specified
 > git rev-parse --resolve-git-dir /home/vagrant/workspace/Deploy/Build Test App/.git # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/sleepychild/DevOpsPlaygroundTestApp.git # timeout=10
Fetching upstream changes from https://github.com/sleepychild/DevOpsPlaygroundTestApp.git
 > git --version # timeout=10
 > git --version # 'git version 2.25.1'
 > git fetch --tags --force --progress -- https://github.com/sleepychild/DevOpsPlaygroundTestApp.git +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/main^{commit} # timeout=10
Checking out Revision 5479244c6ec25670b372de14cce8d50218ce0e43 (refs/remotes/origin/main)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 5479244c6ec25670b372de14cce8d50218ce0e43 # timeout=10
Commit message: "Update pyweb.py"
First time build. Skipping changelog.
[Build Test App] $ /bin/sh -xe /tmp/jenkins17668732096300970007.sh
+ ./deploy.sh
Building mariadb
Sending build context to Docker daemon   7.68kB
Step 1/2 : FROM mariadb:10.5
10.5: Pulling from library/mariadb
c549ccf8d472: Pulling fs layer
26ea6552a462: Pulling fs layer
329b1f41043f: Pulling fs layer
9f8d09317d80: Pulling fs layer
2bc055a5511d: Pulling fs layer
e989e430508e: Pulling fs layer
cdba2af19f87: Pulling fs layer
04fe4f90eab8: Pulling fs layer
389c6b423e31: Pulling fs layer
bef640655d86: Pulling fs layer
e989e430508e: Waiting
cdba2af19f87: Waiting
04fe4f90eab8: Waiting
389c6b423e31: Waiting
bef640655d86: Waiting
9f8d09317d80: Waiting
2bc055a5511d: Waiting
26ea6552a462: Verifying Checksum
26ea6552a462: Download complete
329b1f41043f: Verifying Checksum
329b1f41043f: Download complete
c549ccf8d472: Verifying Checksum
c549ccf8d472: Download complete
2bc055a5511d: Verifying Checksum
2bc055a5511d: Download complete
9f8d09317d80: Verifying Checksum
9f8d09317d80: Download complete
e989e430508e: Verifying Checksum
e989e430508e: Download complete
cdba2af19f87: Verifying Checksum
cdba2af19f87: Download complete
c549ccf8d472: Pull complete
04fe4f90eab8: Verifying Checksum
04fe4f90eab8: Download complete
bef640655d86: Verifying Checksum
bef640655d86: Download complete
26ea6552a462: Pull complete
329b1f41043f: Pull complete
9f8d09317d80: Pull complete
2bc055a5511d: Pull complete
e989e430508e: Pull complete
cdba2af19f87: Pull complete
04fe4f90eab8: Pull complete
389c6b423e31: Download complete
389c6b423e31: Pull complete
bef640655d86: Pull complete
Digest: sha256:0c72b63198ac53df4e84db821876c73794b00509b2d8a77100d186a13e49ac31
Status: Downloaded newer image for mariadb:10.5
 ---> 6d5c5ed114ad
Step 2/2 : ADD init.sql //docker-entrypoint-initdb.d/init.sql
 ---> 68420a42fcdc
Successfully built 68420a42fcdc
Successfully tagged 192.168.201.120:5000/appdb:latest
Building pyweb
Sending build context to Docker daemon   5.12kB
Step 1/9 : FROM python:3.9.5-alpine3.13
3.9.5-alpine3.13: Pulling from library/python
540db60ca938: Pulling fs layer
d037ddac5dde: Pulling fs layer
629719f9106a: Pulling fs layer
f9ef3a05a91e: Pulling fs layer
0faf4e7f2207: Pulling fs layer
f9ef3a05a91e: Waiting
0faf4e7f2207: Waiting
540db60ca938: Download complete
d037ddac5dde: Verifying Checksum
d037ddac5dde: Download complete
540db60ca938: Pull complete
d037ddac5dde: Pull complete
f9ef3a05a91e: Verifying Checksum
f9ef3a05a91e: Download complete
0faf4e7f2207: Verifying Checksum
0faf4e7f2207: Download complete
629719f9106a: Verifying Checksum
629719f9106a: Download complete
629719f9106a: Pull complete
f9ef3a05a91e: Pull complete
0faf4e7f2207: Pull complete
Digest: sha256:aded2e43ada04522e712ce507ce8a04392f8cbe047c914c5a88e4016a7141bd0
Status: Downloaded newer image for python:3.9.5-alpine3.13
 ---> 2d64a2341b7c
Step 2/9 : RUN apk update && apk upgrade
 ---> Running in 15397628375e
fetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz
fetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz
v3.13.5-220-gcb6a7d7d41 [https://dl-cdn.alpinelinux.org/alpine/v3.13/main]
v3.13.5-216-gca846067ce [https://dl-cdn.alpinelinux.org/alpine/v3.13/community]
OK: 13891 distinct packages available
(1/2) Upgrading musl (1.2.2-r0 -> 1.2.2-r1)
(2/2) Upgrading musl-utils (1.2.2-r0 -> 1.2.2-r1)
Executing busybox-1.32.1-r6.trigger
OK: 15 MiB in 36 packages
Removing intermediate container 15397628375e
 ---> 82527e4ebabf
Step 3/9 : RUN apk add --no-cache build-base jpeg-dev zlib-dev libffi-dev mariadb-dev python3-dev py3-pip py3-mysqlclient
 ---> Running in 8ab580d0e86c
fetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz
fetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz
(1/63) Installing libgcc (10.2.1_pre1-r3)
(2/63) Installing libstdc++ (10.2.1_pre1-r3)
(3/63) Installing binutils (2.35.2-r1)
(4/63) Installing libmagic (5.39-r0)
(5/63) Installing file (5.39-r0)
(6/63) Installing libgomp (10.2.1_pre1-r3)
(7/63) Installing libatomic (10.2.1_pre1-r3)
(8/63) Installing libgphobos (10.2.1_pre1-r3)
(9/63) Installing gmp (6.2.1-r0)
(10/63) Installing isl22 (0.22-r0)
(11/63) Installing mpfr4 (4.1.0-r0)
(12/63) Installing mpc1 (1.2.0-r0)
(13/63) Installing gcc (10.2.1_pre1-r3)
(14/63) Installing musl-dev (1.2.2-r1)
(15/63) Installing libc-dev (0.7.2-r3)
(16/63) Installing g++ (10.2.1_pre1-r3)
(17/63) Installing make (4.3-r0)
(18/63) Installing fortify-headers (1.1-r0)
(19/63) Installing patch (2.7.6-r7)
(20/63) Installing build-base (0.5-r2)
(21/63) Installing libjpeg-turbo (2.1.0-r0)
(22/63) Installing pkgconf (1.7.3-r0)
(23/63) Installing libjpeg-turbo-dev (2.1.0-r0)
(24/63) Installing jpeg-dev (9d-r1)
(25/63) Installing linux-headers (5.7.8-r0)
(26/63) Installing libffi-dev (3.3-r2)
(27/63) Installing openssl-dev (1.1.1k-r0)
(28/63) Installing zlib-dev (1.2.11-r3)
(29/63) Installing mariadb-connector-c (3.1.11-r0)
(30/63) Installing mariadb-connector-c-dev (3.1.11-r0)
(31/63) Installing mariadb-common (10.5.11-r0)
(32/63) Installing libaio (0.3.112-r1)
(33/63) Installing pcre2 (10.36-r0)
(34/63) Installing mariadb-embedded (10.5.11-r0)
(35/63) Installing mariadb-dev (10.5.11-r0)
(36/63) Installing py3-mysqlclient (2.0.1-r0)
(37/63) Installing python3 (3.8.10-r0)
(38/63) Installing py3-appdirs (1.4.4-r1)
(39/63) Installing py3-ordered-set (4.0.2-r0)
(40/63) Installing py3-parsing (2.4.7-r1)
(41/63) Installing py3-six (1.15.0-r0)
(42/63) Installing py3-packaging (20.9-r0)
(43/63) Installing py3-setuptools (51.3.3-r0)
(44/63) Installing py3-chardet (4.0.0-r0)
(45/63) Installing py3-idna (3.1-r0)
(46/63) Installing py3-urllib3 (1.26.2-r1)
(47/63) Installing py3-requests (2.25.1-r1)
(48/63) Installing py3-msgpack (1.0.2-r0)
(49/63) Installing py3-lockfile (0.12.2-r3)
(50/63) Installing py3-cachecontrol (0.12.6-r0)
(51/63) Installing py3-colorama (0.4.4-r0)
(52/63) Installing py3-contextlib2 (0.6.0-r0)
(53/63) Installing py3-distlib (0.3.1-r1)
(54/63) Installing py3-distro (1.5.0-r1)
(55/63) Installing py3-webencodings (0.5.1-r3)
(56/63) Installing py3-html5lib (1.1-r0)
(57/63) Installing py3-pytoml (0.1.21-r0)
(58/63) Installing py3-pep517 (0.9.1-r0)
(59/63) Installing py3-progress (1.5-r0)
(60/63) Installing py3-retrying (1.3.3-r0)
(61/63) Installing py3-toml (0.10.2-r0)
(62/63) Installing py3-pip (20.3.4-r0)
(63/63) Installing python3-dev (3.8.10-r0)
Executing busybox-1.32.1-r6.trigger
OK: 349 MiB in 99 packages
Removing intermediate container 8ab580d0e86c
 ---> e4592d53bf3d
Step 4/9 : ENV LIBRARY_PATH=/lib:/usr/lib
 ---> Running in 19a05463177d
Removing intermediate container 19a05463177d
 ---> 7e0a4f18123f
Step 5/9 : WORKDIR /usr/src/app
 ---> Running in 63b8225ab16c
Removing intermediate container 63b8225ab16c
 ---> 10fb130e879a
Step 6/9 : COPY . .
 ---> 3fd98fee7d32
Step 7/9 : RUN pip install --upgrade pip
 ---> Running in d33c1d275eb5
Requirement already satisfied: pip in /usr/local/lib/python3.9/site-packages (21.1.2)
Collecting pip
  Downloading pip-21.1.3-py3-none-any.whl (1.5 MB)
Installing collected packages: pip
  Attempting uninstall: pip
    Found existing installation: pip 21.1.2
    Uninstalling pip-21.1.2:
      Successfully uninstalled pip-21.1.2
Successfully installed pip-21.1.3
[91mWARNING: Running pip as root will break packages and permissions. You should install packages reliably by using venv: https://pip.pypa.io/warnings/venv
[0mRemoving intermediate container d33c1d275eb5
 ---> 30fada83bfdb
Step 8/9 : RUN pip install --no-cache-dir -r requirements.txt
 ---> Running in cfaf3afab64f
Collecting ipython
  Downloading ipython-7.25.0-py3-none-any.whl (786 kB)
Collecting twisted
  Downloading Twisted-21.2.0-py3-none-any.whl (3.1 MB)
Collecting mariadb
  Downloading mariadb-1.0.7.tar.gz (67 kB)
Collecting pexpect>4.3
  Downloading pexpect-4.8.0-py2.py3-none-any.whl (59 kB)
Collecting jedi>=0.16
  Downloading jedi-0.18.0-py2.py3-none-any.whl (1.4 MB)
Collecting backcall
  Downloading backcall-0.2.0-py2.py3-none-any.whl (11 kB)
Collecting traitlets>=4.2
  Downloading traitlets-5.0.5-py3-none-any.whl (100 kB)
Collecting matplotlib-inline
  Downloading matplotlib_inline-0.1.2-py3-none-any.whl (8.2 kB)
Collecting pygments
  Downloading Pygments-2.9.0-py3-none-any.whl (1.0 MB)
Collecting prompt-toolkit!=3.0.0,!=3.0.1,<3.1.0,>=2.0.0
  Downloading prompt_toolkit-3.0.19-py3-none-any.whl (368 kB)
Requirement already satisfied: setuptools>=18.5 in /usr/local/lib/python3.9/site-packages (from ipython->-r requirements.txt (line 1)) (57.0.0)
Collecting pickleshare
  Downloading pickleshare-0.7.5-py2.py3-none-any.whl (6.9 kB)
Collecting decorator
  Downloading decorator-5.0.9-py3-none-any.whl (8.9 kB)
Collecting parso<0.9.0,>=0.8.0
  Downloading parso-0.8.2-py2.py3-none-any.whl (94 kB)
Collecting ptyprocess>=0.5
  Downloading ptyprocess-0.7.0-py2.py3-none-any.whl (13 kB)
Collecting wcwidth
  Downloading wcwidth-0.2.5-py2.py3-none-any.whl (30 kB)
Collecting ipython-genutils
  Downloading ipython_genutils-0.2.0-py2.py3-none-any.whl (26 kB)
Collecting Automat>=0.8.0
  Downloading Automat-20.2.0-py2.py3-none-any.whl (31 kB)
Collecting attrs>=19.2.0
  Downloading attrs-21.2.0-py2.py3-none-any.whl (53 kB)
Collecting incremental>=16.10.1
  Downloading incremental-21.3.0-py2.py3-none-any.whl (15 kB)
Collecting constantly>=15.1
  Downloading constantly-15.1.0-py2.py3-none-any.whl (7.9 kB)
Collecting zope.interface>=4.4.2
  Downloading zope.interface-5.4.0.tar.gz (249 kB)
Collecting hyperlink>=17.1.1
  Downloading hyperlink-21.0.0-py2.py3-none-any.whl (74 kB)
Collecting six
  Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)
Collecting idna>=2.5
  Downloading idna-3.2-py3-none-any.whl (59 kB)
Building wheels for collected packages: zope.interface, mariadb
  Building wheel for zope.interface (setup.py): started
  Building wheel for zope.interface (setup.py): finished with status 'done'
  Created wheel for zope.interface: filename=zope.interface-5.4.0-cp39-cp39-linux_x86_64.whl size=210818 sha256=d7c7e9a647b764b2dab417782ceb61477af405007bc87bd353986f7690a88474
  Stored in directory: /tmp/pip-ephem-wheel-cache-hrk5i3ps/wheels/d8/ed/86/a6eaafa489d679f58d58a488b372b1518a30755f21121806ac
  Building wheel for mariadb (setup.py): started
  Building wheel for mariadb (setup.py): finished with status 'done'
  Created wheel for mariadb: filename=mariadb-1.0.7-cp39-cp39-linux_x86_64.whl size=62669 sha256=d01c880fb6cab4c9a7f6ef120f8671fad4ba277aa5bde027144026110dfd93ba
  Stored in directory: /tmp/pip-ephem-wheel-cache-hrk5i3ps/wheels/5b/ba/4b/a620c332923d8cda4f39271480dde716cf3e592ad423bff1b6
Successfully built zope.interface mariadb
Installing collected packages: ipython-genutils, wcwidth, traitlets, six, ptyprocess, parso, idna, attrs, zope.interface, pygments, prompt-toolkit, pickleshare, pexpect, matplotlib-inline, jedi, incremental, hyperlink, decorator, constantly, backcall, Automat, twisted, mariadb, ipython
Successfully installed Automat-20.2.0 attrs-21.2.0 backcall-0.2.0 constantly-15.1.0 decorator-5.0.9 hyperlink-21.0.0 idna-3.2 incremental-21.3.0 ipython-7.25.0 ipython-genutils-0.2.0 jedi-0.18.0 mariadb-1.0.7 matplotlib-inline-0.1.2 parso-0.8.2 pexpect-4.8.0 pickleshare-0.7.5 prompt-toolkit-3.0.19 ptyprocess-0.7.0 pygments-2.9.0 six-1.16.0 traitlets-5.0.5 twisted-21.2.0 wcwidth-0.2.5 zope.interface-5.4.0
[91mWARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
[0mRemoving intermediate container cfaf3afab64f
 ---> 29026831ac0c
Step 9/9 : CMD ["python", "./pyweb.py"]
 ---> Running in bb9f6f885374
Removing intermediate container bb9f6f885374
 ---> f19fdcf24332
Successfully built f19fdcf24332
Successfully tagged 192.168.201.120:5000/appweb:latest
Pushing mariadb (192.168.201.120:5000/appdb:latest)...
The push refers to repository [192.168.201.120:5000/appdb]
latest: digest: sha256:12ee408141a02d6473df3ce5da17a891ff248d5a73dac2adef8cab0fd1a5a7f5 size: 2619
Pushing pyweb (192.168.201.120:5000/appweb:latest)...
The push refers to repository [192.168.201.120:5000/appweb]
latest: digest: sha256:b00f21f1198a4afa7c4427b42917891a034b93852de776e3e3ae138efcff6fc4 size: 2630
Ignoring unsupported options: build, restart

Creating network m3hw_local_net
Creating service m3hw_mariadb
Creating service m3hw_pyweb
Finished: SUCCESS
